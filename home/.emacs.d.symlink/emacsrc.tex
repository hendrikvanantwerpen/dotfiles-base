% Emacs Reference Card
% Copyright (c) 2013 Hendrik van Antwerpen

% Tex formatting based on the VIM Quick Reference Card
% Copyright (c) 2002 Laurent Gregoire.
% TeX Format

\pdfoutput=1
\pdfpageheight=21cm
\pdfpagewidth=29.7cm

% Font definitions
\font\bigbf=cmbx12
\font\smallrm=cmr8
\font\smalltt=cmtt8
\font\tinyit=cmmi5

\def\title#1{\hfil{\bf #1}\hfil\par\vskip 2pt\hrule}
\def\cm#1#2{{\tt#1}\dotfill#2\par}
\def\cn#1{\hfill$\lfloor$ #1\par}
\def\sect#1{\vskip 0.7cm {\it#1\/}\par}

% Characters definitions
\def\bs{$\backslash$}
\def\backspace{$\leftarrow$}
\def\ctrl{{\rm\char94}\kern-1pt}
\def\enter{$\hookleftarrow$}
\def\or{\thinspace{\tinyit{or}}\thinspace}
\def\key#1{$\langle${\rm{\it#1\/}}$\rangle$}
\def\rapos{\char125}
\def\lapos{\char123}
\def\bs{\char92}
\def\tild{\char126}

% Three columns definitions
\parindent 0pt
\nopagenumbers
\hoffset=-1.56cm
\voffset=-1.54cm
\newdimen\fullhsize
\fullhsize=27.9cm
\hsize=8.5cm
\vsize=19cm
\def\fullline{\hbox to\fullhsize}
\let\lr=L
\newbox\leftcolumn
\newbox\midcolumn
\output={
  \if L\lr
    \global\setbox\leftcolumn=\columnbox
    \global\let\lr=M
  \else\if M\lr
    \global\setbox\midcolumn=\columnbox
    \global\let\lr=R
  \else
    \tripleformat
    \global\let\lr=L
  \fi\fi
  \ifnum\outputpenalty>-20000
  \else
    \dosupereject
  \fi}
\def\tripleformat{
  \shipout\vbox{\fullline{\box\leftcolumn\hfil\box\midcolumn\hfil\columnbox}}
  \advancepageno}
\def\columnbox{\leftline{\pagebody}}

% Build with:
% pdftex emacsrc.tex

% Card content
% Header
%\hrule\vskip 3pt
\title{EMACS QUICK REFERENCE CARD}

\sect{Text editing}
\cm{M-q\or M-x fill-paragraph}{fill paragraph to col 70}
\cm{M-x refill-mode}{continuous fill paragraph}
\cm{truncate-mode}{don't wrap lines for this buffer}

\sect{Window managment}
\cm{S-<arrow>}{Move towards window}
\cm{C-x 1}{Maximize current window, close others}
\cm{C-c <left>}{Move to previous window configuration}
\cn{Use as window restore after {\tt C-x 1}}
\cm{C-c <right>}{Move to next window configuration}

\sect{AMD mode (amd-mode)}
\cm{M-x amd-mode}{Enable AMD mode}
\cm{C-c a i}{insert AMD header in buffer}
\cm{C-c a d}{add dependency}
\cm{C-c a f}{add dependency by selecting a file}
\cm{C-c a g}{visit dependency in current window}
\cm{C-c a G}{visit dependency in other window}
\cm{C-c a x}{remove dependency}

\sect{Version control (vc)}
\cm{C-x v d}{list working copy}
\cm{C-x v +}{update working copy}

\sect{Ack (ack-full)}
\cm{M-x ack}{ack in current directory}
\cm{M-x ack-same}{ack same files in current directory}

\sect{Elisp}
\cm{(setq debug-on-error t)}{show debugger on error}

% Footer
\vfill \hrule\smallskip
{\smallrm This card may be freely distributed under
the terms of the GNU general public licence --- Copyright 2013 Hendrik van Antwerpen ---
Tex formatting copyright 2003 Laurent Gr\'egoire
}

% Ending
\supereject
\if L\lr \else\null\vfill\eject\fi
\if L\lr \else\null\vfill\eject\fi
\bye

% EOF
